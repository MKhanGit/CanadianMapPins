// PostalCode Pinner by M.Khan
// March 3, 2023

var savedColorKey = null;

var locationData = null;
var geocoder = null;
var colors = ['purple', 'orange', 'yellow', 'green']
var rateDelay = 1000;
var map = null;
var myButton = null;
var downloadBtn = null;
var shareButton = null;
var copyButton = null;
var shareLink = null;

var fileInput = null;
var fileLabel = null;
var defaultMap = "eyJUMUggNlQzIjp7ImxhdCI6NDkuNzI4MTI0NCwibG5nIjotMTEyLjgxMDAzOTl9LCJUNFIgMksxIjp7ImxhdCI6NTIuMjM3NTcxMiwibG5nIjotMTEzLjgxNzUzMzN9LCJUNFggMVQ4Ijp7ImxhdCI6NTMuMzYxNDksImxuZyI6LTExMy40MTYwNzQ2fSwiVDNMIDJWNyI6eyJsYXQiOjUxLjEyNDQ2NiwibG5nIjotMTE0LjI0ODQ5ODZ9LCJUOUggMko4Ijp7ImxhdCI6NTYuNzIzMzYzNSwibG5nIjotMTExLjM3MzI1MjN9LCJUNE4gM1o2Ijp7ImxhdCI6NTIuMjYzNDAxNSwibG5nIjotMTEzLjgxNDQ1Mzh9LCJUNEIgMFY3Ijp7ImxhdCI6NTEuMjkwNzMzMiwibG5nIjotMTE0LjAyMzE0NzJ9LCJUMlkgNFM2Ijp7ImxhdCI6NTAuOTA2MTQ4MywibG5nIjotMTE0LjExMTg3MTd9LCJUMUIgNEs0Ijp7ImxhdCI6NDkuOTk4NzE2MywibG5nIjotMTEwLjY0NTA2NH0sIlQ0ViA0VDEiOnsibGF0Ijo1My4wMTg4OTE1LCJsbmciOi0xMTIuODYzMzY5MX0sIlQ0QiAxRTEiOnsibGF0Ijo1MS4yOTU1ODQsImxuZyI6LTExNC4wMTQ0MTYzfSwiVDNHIDVUNCI6eyJsYXQiOjUxLjE1MzAxMjUsImxuZyI6LTExNC4yMTQ4OTk5fSwiVDFCIDJSNCI6eyJsYXQiOjUwLjAwNDMyNDUsImxuZyI6LTExMC42NDczMTU5fSwiVDlBIDJCMSI6eyJsYXQiOjUyLjk1ODU5MTAwMDAwMDAxLCJsbmciOi0xMTMuMzg4NTY1N30sIlQ5RSA2TjciOnsibGF0Ijo1My4yNzY1ODgxLCJsbmciOi0xMTMuNTUwNTEzOH0sIlQzSyA1SDIiOnsibGF0Ijo1MS4xNTU0OTc3LCJsbmciOi0xMTQuMDU3MDAzMn0sIlQxSyA2WjMiOnsibGF0Ijo0OS42Njc1MzgzLCJsbmciOi0xMTIuNzk2MDkzNX0sIlQxVyAxUDQiOnsibGF0Ijo1MS4wOTIxMDgxLCJsbmciOi0xMTUuMzU1NzA3NH0sIlQ3WiAxTDEiOnsibGF0Ijo1My41NDAyNzkxLCJsbmciOi0xMTMuOTc1OTI5Nn0sIlQyWSA1RzciOnsibGF0Ijo1MC45MTQzNzA2LCJsbmciOi0xMTQuMDcxOTMxM30sIlQ4ViA0QTkiOnsibGF0Ijo1NS4xODM4NDIsImxuZyI6LTExOC43OTMzMDA4fSwiVDFTIDJFMSI6eyJsYXQiOjUwLjcwMzA3MTUsImxuZyI6LTExMy45NzMzNDMyfSwiVDhMIDRQNCI6eyJsYXQiOjUzLjY5NTY2NzY5OTk5OTk5LCJsbmciOi0xMTMuMjEwMjgyNH0sIlQyQSAwVjciOnsibGF0Ijo1MS4wMzYyNjM1LCJsbmciOi0xMTMuOTYwNTg4OH0sIlQ4ViA2SDciOnsibGF0Ijo1NS4xNTU0MDIyLCJsbmciOi0xMTguNzk2MTY4fSwiVDFTIDFCMyI6eyJsYXQiOjUwLjcyNTEyNDYsImxuZyI6LTExMy45NzIwMDI4fSwiVDdYIDFSMiI6eyJsYXQiOjUzLjU0MjA3NzQsImxuZyI6LTExMy45MTMzNjA4fSwiVDVaIDNMMSI6eyJsYXQiOjUzLjYyODAwNDMsImxuZyI6LTExMy40ODkwOTgyfSwiVDFSIDBXMyI6eyJsYXQiOjUwLjU3MjkzOTcsImxuZyI6LTExMS45MDAxMjE4fSwiVDROIDRDNiI6eyJsYXQiOjUyLjI4NTI1NjM5OTk5OTk5LCJsbmciOi0xMTMuODE1MTg2fSwiVDRDIDJBNSI6eyJsYXQiOjUxLjE4NTEyOTYsImxuZyI6LTExNC40NzY0OTI0fSwiVDhOIDVKOSI6eyJsYXQiOjUzLjY0NDUwNTksImxuZyI6LTExMy42Mjc3MDA5fSwiVDFBIDJKOSI6eyJsYXQiOjUwLjAzMjY4NjIwMDAwMDAxLCJsbmciOi0xMTAuNjg2NjUyfSwiVDFYIDFWMiI6eyJsYXQiOjUxLjA1MDI3ODcsImxuZyI6LTExMy44MjU2NDM3fSwiVDVYIDZDMyI6eyJsYXQiOjUzLjYxNTQ2MjgsImxuZyI6LTExMy41MTU4NDA2fSwiVDFKIDRUMyI6eyJsYXQiOjQ5LjY5MzIxMjQsImxuZyI6LTExMi44OTM0MTgyfSwiVDZMIDdHNSI6eyJsYXQiOjUzLjQ1MzkyMSwibG5nIjotMTEzLjQyMjQ4OTR9LCJUOVYgMEE3Ijp7ImxhdCI6NTMuMjc3MDM4MywibG5nIjotMTEwLjAxMjAwNDN9LCJUOEEgNkczIjp7ImxhdCI6NTMuNTEyNjA1NiwibG5nIjotMTEzLjI3NTAwMTh9LCJUNksgM0w2Ijp7ImxhdCI6NTMuNDcxNjI5MywibG5nIjotMTEzLjQ1MDAxMX0sIlQzSiAwSDUiOnsibGF0Ijo1MS4xMjM1NDQyLCJsbmciOi0xMTMuOTQ1MDg3OH0sIlQ2VCAwWTIiOnsibGF0Ijo1My40NjYwNTMsImxuZyI6LTExMy4zODIwMTV9LCJUNUwgNFk4Ijp7ImxhdCI6NTMuNTk5OTg5NSwibG5nIjotMTEzLjU0Mjg1ODJ9LCJUNUIgMFMxIjp7ImxhdCI6NTMuNTcxMTE0NCwibG5nIjotMTEzLjQ2NjMyNjh9LCJUOE4gNVQ4Ijp7ImxhdCI6NTMuNjIyMjI2Mjk5OTk5OTksImxuZyI6LTExMy42MDcyOTc3fSwiVDVQIDRXMSI6eyJsYXQiOjUzLjUzOTg5OCwibG5nIjotMTEzLjU3OTM4NjJ9LCJUNVQgNEs1Ijp7ImxhdCI6NTMuNTI0NjQ4NCwibG5nIjotMTEzLjY2Nzc0Nzd9LCJUM1AgME05Ijp7ImxhdCI6NTEuMTc0NTMyNSwibG5nIjotMTE0LjEwODc4MjF9LCJUMkMgMk41Ijp7ImxhdCI6NTAuOTgzMzU3NywibG5nIjotMTE0LjAxNDY1NzJ9LCJUMVkgNkoyIjp7ImxhdCI6NTEuMDgyNjM5OSwibG5nIjotMTEzLjk4MzU4Njh9LCJUM0ogMFM5Ijp7ImxhdCI6NTEuMTQzODIxOSwibG5nIjotMTE0LjAyNzA4N30sIlQzTSAwUzkiOnsibGF0Ijo1MC44Nzk4OTA4LCJsbmciOi0xMTMuOTc3NjMyOX0sIlQyWCAwVDkiOnsibGF0Ijo1MC44NzgxODczLCJsbmciOi0xMTQuMDcxNjI3NH0sIlQ2VyAxUzQiOnsibGF0Ijo1My40MjM2MjA3LCJsbmciOi0xMTMuNTE1MDEyOX0sIlQ1WSAwTDIiOnsibGF0Ijo1My42MjgwMjg4LCJsbmciOi0xMTMuNDEzNzMzNH0sIlQ2WCAxWDIiOnsibGF0Ijo1My40MTU4ODg0LCJsbmciOi0xMTMuNDQ0NzcwOH0sIlQzUiAwSjMiOnsibGF0Ijo1MS4xNzczOTAyLCJsbmciOi0xMTQuMTUyNzk1M30sIlQzTSAyUDgiOnsibGF0Ijo1MC44OTg1ODc3OTk5OTk5OSwibG5nIjotMTEzLjk0MjQwMjR9LCJUMkEgN1I0Ijp7ImxhdCI6NTEuMDUyNzQ4NywibG5nIjotMTEzLjk4NDE5NzJ9LCJUM0MgMVMyIjp7ImxhdCI6NTEuMDQyMzcyNSwibG5nIjotMTE0LjEzOTUyMDd9LCJUMlIgMEU2Ijp7ImxhdCI6NTEuMDQyNjY0MiwibG5nIjotMTE0LjA4MDQ1MX0sIlQzQSAwRTIiOnsibGF0Ijo1MS4wODU2NzYxLCJsbmciOi0xMTQuMTU1MjQ3Mn0sIlQyUyAySDYiOnsibGF0Ijo1MS4wMzAyMzAxLCJsbmciOi0xMTQuMDcyNDI4M30sIlQyRSAyUzYiOnsibGF0Ijo1MS4wNjgxNTgzOTk5OTk5OSwibG5nIjotMTE0LjA2MTk3NDV9LCJUMk4gMVY5Ijp7ImxhdCI6NTEuMDU2MDk4OCwibG5nIjotMTE0LjA4NTQ5MjZ9LCJUMlcgNE43Ijp7ImxhdCI6NTAuOTQwODEwMSwibG5nIjotMTE0LjEyMDgwNzd9LCJUM0ogM0o4Ijp7ImxhdCI6NTEuMTAzNzE0LCJsbmciOi0xMTMuOTcxMDM3NX0sIlQzRyAyTDUiOnsibGF0Ijo1MS4xMjc0OTYzLCJsbmciOi0xMTQuMjAzMTY5M30sIlQySiA2UzEiOnsibGF0Ijo1MC45NTI0MTIzLCJsbmciOi0xMTQuMDYyMjQ2MX0sIlQyViA1QTgiOnsibGF0Ijo1MC45NzQ5Mjg1LCJsbmciOi0xMTQuMDk4Mzc0OH0sIlQzQSA1UjgiOnsibGF0Ijo1MS4xMDU0MjA2LCJsbmciOi0xMTQuMTYwODAzOX0sIlQyWSAyWjMiOnsibGF0Ijo1MC45MDUxNDMzLCJsbmciOi0xMTQuMDY1MTc0fSwiVDNLIDJBOCI6eyJsYXQiOjUxLjEyNTcwOTgsImxuZyI6LTExNC4wNzM4MDA1fSwiVDNIIDNDOCI6eyJsYXQiOjUxLjAxMzM2NDgsImxuZyI6LTExNC4xNjkyMTAzfSwiVDVSIDVXOSI6eyJsYXQiOjUzLjUxOTg2OCwibG5nIjotMTEzLjU5MzAwNTF9LCJUNlIgMkUzIjp7ImxhdCI6NTMuNDY4NzMyODAwMDAwMDEsImxuZyI6LTExMy41ODc2MzkyfSwiVDhOIDVaOSI6eyJsYXQiOjUzLjY0NDMxOTcsImxuZyI6LTExMy42MjUxNTcxfSwiVDVLIDJTNSI6eyJsYXQiOjUzLjU0Njk2Mzg5OTk5OTk5LCJsbmciOi0xMTMuNTIwNTM5Nn0sIlQ4QSA0TjUiOnsibGF0Ijo1My41MTMzNzk5LCJsbmciOi0xMTMuMzI0MTk3MX0sIlQ1QSA1QTEiOnsibGF0Ijo1My42MDA1NTE2LCJsbmciOi0xMTMuNDIxODkzN30sIlQ1VCA1TDUiOnsibGF0Ijo1My41MzY0MzYzLCJsbmciOi0xMTMuNjE5OTc2NX0sIlQ1VCA0SjUiOnsibGF0Ijo1My41MDE3MjU4LCJsbmciOi0xMTMuNjI4NDIwNX0sIlQ1TSAzTDciOnsibGF0Ijo1My41NjA0MjUsImxuZyI6LTExMy41NzMwNzQ5fSwiVDVFIDVSOCI6eyJsYXQiOjUzLjU5ODQzMzksImxuZyI6LTExMy40OTA4NzE4fSwiVDZBIDBBMSI6eyJsYXQiOjUzLjUzOTQ4OTksImxuZyI6LTExMy40MjE2NDM0fSwiVDZHIDBTOCI6eyJsYXQiOjUzLjUxODYyOTgsImxuZyI6LTExMy41MTM0ODc2fSwiVDZDIDBZNiI6eyJsYXQiOjUzLjUxODczODQsImxuZyI6LTExMy40NTc0MDcyfSwiVDVUIDFLOCI6eyJsYXQiOjUzLjUxMDQ5Mjc5OTk5OTk5LCJsbmciOi0xMTMuNjc1NDc1M30sIlQzSCAwTjYiOnsibGF0Ijo1MS4wNDEwNjE4LCJsbmciOi0xMTQuMjA4NTk1OH0sIlQ2SCA0TTYiOnsibGF0Ijo1My40ODYwMzQ4LCJsbmciOi0xMTMuNTE0OTM5NX0sIlQ2VyAwTDkiOnsibGF0Ijo1My40MzYwMTYxLCJsbmciOi0xMTMuNjA1NTQyMX0sIlQyVCA2RTMiOnsibGF0Ijo1MS4wMjI3Mjc0OTk5OTk5OSwibG5nIjotMTE0LjExNjIzMTh9LCJUMk4gMU03Ijp7ImxhdCI6NTEuMDY0OTk0MTAwMDAwMDEsImxuZyI6LTExNC4wOTg2NDQzfSwiVDNCIDBOMyI6eyJsYXQiOjUxLjA3NDEyLCJsbmciOi0xMTQuMTY1Mjk1fSwiVDJLIDFCMyI6eyJsYXQiOjUxLjEwMTkzNDcsImxuZyI6LTExNC4wNzIyMTY3fSwiVDZKIDVFNSI6eyJsYXQiOjUzLjQ1NDYyMTEsImxuZyI6LTExMy41MTQ2NDg3fSwiVDhBIDNIOSI6eyJsYXQiOjUzLjUzMjQxNDEsImxuZyI6LTExMy4yOTI1Mzk2fSwiVDVXIDBaMyI6eyJsYXQiOjUzLjU2OTQ5MTc5OTk5OTk5LCJsbmciOi0xMTMuMzk0NjMyM30sIlQyWiAzVjgiOnsibGF0Ijo1MC45MzA3NDc1LCJsbmciOi0xMTMuOTcxNTA5Nn0sIlQzRSA2TDYiOnsibGF0Ijo1MS4wMjA5MTg0LCJsbmciOi0xMTQuMTQxODY5fSwiVDJYIDRTOSAoQUIpIjp7ImxhdCI6NTAuOTAwNzYzNSwibG5nIjotMTE0LjAzNjIyNzl9LCJBbnRpZ29uaXNoIjp7ImxhdCI6NDUuNjIyNDg1MiwibG5nIjotNjEuOTkxNDM4MTk5OTk5OTl9LCJBYmJvdHNmb3JkIjp7ImxhdCI6NDkuMDUwNDM3NywibG5nIjotMTIyLjMwNDQ2OTd9LCJBY3RvbiI6eyJsYXQiOjQzLjYzMzkwODgsImxuZyI6LTgwLjA0MTMyMn0sIkF1cm9yYSI6eyJsYXQiOjQ0LjAwNjQ4LCJsbmciOi03OS40NTAzOTZ9LCJCYXJyaW5ndG9uIFBhc3NhZ2UiOnsibGF0Ijo0My41MjcyMzMsImxuZyI6LTY1LjYwOTI3NH0sIkFsZGVyZ3JvdmUiOnsibGF0Ijo0OS4wNTgwNTE2LCJsbmciOi0xMjIuNDcwNjY3fSwiQWlyZHJpZSI6eyJsYXQiOjUxLjI5MjY5Njc5OTk5OTk5LCJsbmciOi0xMTQuMDEzNDExM30sIkJyYW1wdG9uIjp7ImxhdCI6NDMuNzMxNTQ3OSwibG5nIjotNzkuNzYyNDE3N30sIkJyaWRnZXdhdGVyIjp7ImxhdCI6NDQuMzc5NTk2NiwibG5nIjotNjQuNTIxMzI5OX0sIkFtaGVyc3QiOnsibGF0Ijo0NS44MzQ0Mzk0OTk5OTk5OSwibG5nIjotNjQuMjEyMzM5Mzk5OTk5OTl9LCJBamF4Ijp7ImxhdCI6NDMuODUwODU1MywibG5nIjotNzkuMDIwMzczMn0sIkNhbGdhcnkiOnsibGF0Ijo1MS4wNDQ3MzMwOTk5OTk5OSwibG5nIjotMTE0LjA3MTg4MzF9LCJCcm9va3MiOnsibGF0Ijo1MC41NjU3MDkyOTk5OTk5OSwibG5nIjotMTExLjg5Nzc4Njh9LCJCYXRodXJzdCI6eyJsYXQiOjQ3LjYxODM1MDcsImxuZyI6LTY1LjY1MTMzNTh9LCJBbmNhc3RlciI6eyJsYXQiOjQzLjIxNzc3OTEsImxuZyI6LTc5Ljk4NzI4MzQ5OTk5OTk5fSwiRWRtb250b24iOnsibGF0Ijo1My41NDYwOTgzLCJsbmciOi0xMTMuNDkzNzI2Nn0sIkNhbXBiZWxsIFJpdmVyIjp7ImxhdCI6NTAuMDMzMTIyNjAwMDAwMDEsImxuZyI6LTEyNS4yNzMzMzU0fSwiQmF5IFJvYmVydHMiOnsibGF0Ijo0Ny41NzkyMDM0LCJsbmciOi01My4yODEwMjA3fSwiQmFycmllIjp7ImxhdCI6NDQuMzg5MzU1NTk5OTk5OTksImxuZyI6LTc5LjY5MDMzMTZ9LCJFbnRlciBDaXR5Ijp7ImxhdCI6NTYuMTMwMzY2LCJsbmciOi0xMDYuMzQ2NzcxfSwiQ2FzdGxlZ2FyIjp7ImxhdCI6NDkuMzIzNzQwOCwibG5nIjotMTE3LjY1OTMzNDF9LCJCcmFuZG9uIjp7ImxhdCI6NDkuODQzNzQ4NiwibG5nIjotOTkuOTUxNDgwNjk5OTk5OTl9LCJCZWF1bW9udCI6eyJsYXQiOjUzLjM1MjExMDgsImxuZyI6LTExMy40MTUxMjd9LCJFdG9iaWNva2UiOnsibGF0Ijo0My42MjA0OTQ2LCJsbmciOi03OS41MTMxOTgzfSwiQ3JhbmJyb29rIjp7ImxhdCI6NDkuNTEyOTY3OCwibG5nIjotMTE1Ljc2OTQwMDJ9LCJDYW1yb3NlIjp7ImxhdCI6NTMuMDE3MzQ0NCwibG5nIjotMTEyLjgyNTExNzZ9LCJCZWRmb3JkIjp7ImxhdCI6NDQuNzIzMzUwNCwibG5nIjotNjMuNjg5OTk2M30sIk1hcmtoYW0iOnsibGF0Ijo0My44NTYxMDAyLCJsbmciOi03OS4zMzcwMTg4fSwiRGF3c29uIENyZWVrIjp7ImxhdCI6NTUuNzU5NjI3NDAwMDAwMDEsImxuZyI6LTEyMC4yMzc2NjIzfSwiQ2FubW9yZSI6eyJsYXQiOjUxLjA4OTkwNywibG5nIjotMTE1LjM0NDExMTZ9LCJCcmFkZm9yZCI6eyJsYXQiOjQ0LjExMDk4NTc5OTk5OTk5LCJsbmciOi03OS41Nzk0MjY1fSwiTWlzc2lzc2F1Z2EiOnsibGF0Ijo0My41ODkwNDUyLCJsbmciOi03OS42NDQxMTk4fSwiRGlnYnkiOnsibGF0Ijo0NC42MjIyMDc3LCJsbmciOi02NS43NTY1NzgxfSwiQ2FyYXF1ZXQiOnsibGF0Ijo0Ny43ODk3MzAzLCJsbmciOi02NC45NjI4MjcxfSwiQnJhbnRmb3JkIjp7ImxhdCI6NDMuMTM5Mzg2NywibG5nIjotODAuMjY0NDI1NH0sIlByaW5jZSBBbGJlcnQiOnsibGF0Ijo1My4yMDMzNDk0LCJsbmciOi0xMDUuNzUzMDcwNX0sIkZvcnQgRnJhbmNlcyI6eyJsYXQiOjQ4LjYwOTk0OTQsImxuZyI6LTkzLjM5NTUyODJ9LCJDaGFybG90dGV0b3duIjp7ImxhdCI6NDYuMjM4MjQsImxuZyI6LTYzLjEzMTA3MDQwMDAwMDAxfSwiQnVybGluZ3RvbiI6eyJsYXQiOjQzLjMyNTUxOTYsImxuZyI6LTc5Ljc5OTAzMTl9LCJSaWNobW9uZCBIaWxsIjp7ImxhdCI6NDMuODgyODQwMSwibG5nIjotNzkuNDQwMjgwOH0sIkZvcnQgTWNNdXJyYXkiOnsibGF0Ijo1Ni43MjY2MjMxLCJsbmciOi0xMTEuMzc5MDA5NX0sIkNoaWxsaXdhY2siOnsibGF0Ijo0OS4xNTc5NDAxLCJsbmciOi0xMjEuOTUxNDY2Nn0sIkJ1cm5hYnkiOnsibGF0Ijo0OS4yNDg4MDkxLCJsbmciOi0xMjIuOTgwNTEwNH0sIlNjYXJib3JvdWdoIjp7ImxhdCI6NDMuNzc2NDI1OCwibG5nIjotNzkuMjMxNzUyMX0sIkZvcnQgU3QuIEpvaG4iOnsibGF0Ijo1Ni4yNTI0MjMsImxuZyI6LTEyMC44NDY0MDl9LCJDbGFya2UncyBCZWFjaCI6eyJsYXQiOjQ3LjU0Mzk3MjMsImxuZyI6LTUzLjI4NDg4NjZ9LCJDYW1icmlkZ2UiOnsibGF0Ijo0My4zNjE2MjExLCJsbmciOi04MC4zMTQ0Mjc2fSwiU2hlcndvb2QgUGFyayI6eyJsYXQiOjUzLjU0MTI3NTUsImxuZyI6LTExMy4yOTU3NjM0fSwiR2xhY2UgQmF5Ijp7ImxhdCI6NDYuMTk2OTE5MSwibG5nIjotNTkuOTU3MDA0NH0sIkNvcm5lciBCcm9vayI6eyJsYXQiOjQ4Ljk1MjMzMTYsImxuZyI6LTU3Ljk0NjA0MDF9LCJDaGVzdGVybWVyZSI6eyJsYXQiOjUxLjAzODAzMzQsImxuZyI6LTExMy44NDI0Mjk4fSwiU3QuIEFsYmVydCI6eyJsYXQiOjUzLjY1MzkwMzcsImxuZyI6LTExMy42MjkyNzAxfSwiR3JhbmQgQmFuayI6eyJsYXQiOjQ3LjEwMDY1NjA5OTk5OTk5LCJsbmciOi01NS43NTE4MDM4fSwiQ29ybndhbGwiOnsibGF0Ijo0NS4wMjEyNzYyLCJsbmciOi03NC43MzAzNDV9LCJDb2NocmFuZSI6eyJsYXQiOjUxLjE5MTc0MzksImxuZyI6LTExNC40NjY3NTI4fSwiU3QuIEpvaG4ncyI6eyJsYXQiOjQ3LjU1NTYwOTcsImxuZyI6LTUyLjc0NTI1MTF9LCJHcmFuZGUgUHJhaXJpZSI6eyJsYXQiOjU1LjE3MDY5MSwibG5nIjotMTE4Ljc4ODQ4MDh9LCJDb3VydGVuYXkiOnsibGF0Ijo0OS42ODQxMzkxLCJsbmciOi0xMjQuOTkwNDQ5M30sIkNvbmNlcHRpb24gQmF5IFNvdXRoIjp7ImxhdCI6NDcuNTA3Mjg2NCwibG5nIjotNTIuOTk2NDgwM30sIlN1cnJleSI6eyJsYXQiOjQ5LjE5MTM0NjYsImxuZyI6LTEyMi44NDkwMTI1fSwiS2VudHZpbGxlIjp7ImxhdCI6NDUuMDc3MTE4MiwibG5nIjotNjQuNDk0MjgyNTk5OTk5OTl9LCJEdW5jYW4iOnsibGF0Ijo0OC43Nzg2OTA4LCJsbmciOi0xMjMuNzA3OTQxNn0sIkNvcXVpdGxhbSI6eyJsYXQiOjQ5LjI4Mzc2MjYsImxuZyI6LTEyMi43OTMyMDY1fSwiVGhvcm5oaWxsIjp7ImxhdCI6NDMuODE0MjU1MiwibG5nIjotNzkuNDI0MDI1fSwiS2luZ3N0b24iOnsibGF0Ijo0NC4yMzExNzE3LCJsbmciOi03Ni40ODU5NTQ0fSwiRWFzdCBTdC4gUGF1bCI6eyJsYXQiOjQ5Ljk4MDc5NzMsImxuZyI6LTk3LjAyOTQ1NTd9LCJEYXJ0bW91dGgiOnsibGF0Ijo0NC42NjYwODg1LCJsbmciOi02My41Njc1NjMyfSwiVG9yb250byI6eyJsYXQiOjQzLjY1MzIyNiwibG5nIjotNzkuMzgzMTg0M30sIkxldGhicmlkZ2UiOnsibGF0Ijo0OS42OTU2MTgxLCJsbmciOi0xMTIuODQ1MTA2N30sIkVzdGV2YW4iOnsibGF0Ijo0OS4xMzkwODQyLCJsbmciOi0xMDIuOTkxNDgwN30sIkRlZXIgTGFrZSI6eyJsYXQiOjQ5LjE4NTIyNDg5OTk5OTk5LCJsbmciOi01Ny40MTgzOTM3OTk5OTk5OX0sIlZhdWdoYW4iOnsibGF0Ijo0My44NTYzMTU4LCJsbmciOi03OS41MDg1MzgzfSwiTGV3aXNwb3J0ZSI6eyJsYXQiOjQ5LjI0NDMzMjMsImxuZyI6LTU1LjA2MDYzMDJ9LCJHYW5kZXIiOnsibGF0Ijo0OC45NTY0ODQyLCJsbmciOi01NC42MDgzNzA4fSwiRGllcHBlIjp7ImxhdCI6NDYuMDk1Mjc2NSwibG5nIjotNjQuNzQ4NjYzOH0sIldpbm5pcGVnIjp7ImxhdCI6NDkuODk1NDIyMSwibG5nIjotOTcuMTM4NTE0NX0sIkxsb3lkbWluc3RlciI6eyJsYXQiOjUzLjI3Nzk2MjUsImxuZyI6LTExMC4wMDYxNDUxfSwiR3JhbmQgRmFsbHMiOnsibGF0Ijo0Ny4wNDc5OTM0LCJsbmciOi02Ny43Mzk5MDE1fSwiRmFsbCBSaXZlciI6eyJsYXQiOjQ0LjgxODA1ODIsImxuZyI6LTYzLjYxMTk3NDl9LCJNYXJ5c3Rvd24iOnsibGF0Ijo0Ny4xNjUwNjE5LCJsbmciOi01NS4xNTU1NDIzOTk5OTk5OX0sIklubmlzZmlsIjp7ImxhdCI6NDQuMzAwODgxMywibG5nIjotNzkuNjExNDk3M30sIkZvcnQgU2Fza2F0Y2hld2FuIjp7ImxhdCI6NTMuNjk2MjIzOSwibG5nIjotMTEzLjIxNjM2NTR9LCJNZWRpY2luZSBIYXQiOnsibGF0Ijo1MC4wMjkwMjE4LCJsbmciOi0xMTAuNzAzMTk3Nn0sIkthbWxvb3BzIjp7ImxhdCI6NTAuNjc0NTIyLCJsbmciOi0xMjAuMzI3MjY3NH0sIkZyZWRlcmljdG9uIjp7ImxhdCI6NDUuOTYzNTg5NSwibG5nIjotNjYuNjQzMTE1MX0sIk1vbnRhZ3VlIjp7ImxhdCI6NDYuMTY1MDY2NCwibG5nIjotNjIuNjQ4MDIwN30sIktlbG93bmEiOnsibGF0Ijo0OS44ODc5NTE5LCJsbmciOi0xMTkuNDk2MDEwNn0sIkdlb3JnZXRvd24iOnsibGF0Ijo0My42NTAyMDQ2LCJsbmciOi03OS45MDM2MjM2fSwiTXVzcXVvZG9ib2l0IEhhcmJvdXIiOnsibGF0Ijo0NC43ODcyNywibG5nIjotNjMuMTQ4MTM1Nn0sIkxha2VzaG9yZSI6eyJsYXQiOjQyLjI1LCJsbmciOi04Mi42ODMzMzI5OTk5OTk5OX0sIkhhbGlmYXgiOnsibGF0Ijo0NC44ODU3MDg3LCJsbmciOi02My4xMDA1MjczfSwiTmVsc29uIjp7ImxhdCI6NDkuNDkyODExOSwibG5nIjotMTE3LjI5NDgzNDN9LCJMYW5nZm9yZCI6eyJsYXQiOjQ4LjQ0NzQ2MjU5OTk5OTk5LCJsbmciOi0xMjMuNDk1NjMzN30sIkhhbW1vbmRzIFBsYWlucyI6eyJsYXQiOjQ0LjczNTgyNjksImxuZyI6LTYzLjc5Mjg2Mjc5OTk5OTk5fSwiTmV3IEdsYXNnb3ciOnsibGF0Ijo0NS41ODcxOTkyOTk5OTk5OSwibG5nIjotNjIuNjQ1MTg2OH0sIkthbmF0YSI6eyJsYXQiOjQ1LjMwODgxODUsImxuZyI6LTc1Ljg5ODY4MzQ5OTk5OTk5fSwiTmV3IE1pbmFzIjp7ImxhdCI6NDUuMDcyMzQxNywibG5nIjotNjQuNDQ1NzQ1M30sIk1pc3Npb24iOnsibGF0Ijo0OS4xMzI5MjcyLCJsbmciOi0xMjIuMzI2MTYwM30sIk5ldyBXYXRlcmZvcmQiOnsibGF0Ijo0Ni4yNTMwNTQ5LCJsbmciOi02MC4wOTE4MDIyfSwiTW9vc2UgSmF3Ijp7ImxhdCI6NTAuMzkxNTgxMSwibG5nIjotMTA1LjUzNDg1NjJ9LCJLaXRjaGVuZXIiOnsibGF0Ijo0My40NTE2Mzk1LCJsbmciOi04MC40OTI1MzM3fSwiTm9ydGggU3lkbmV5Ijp7ImxhdCI6NDYuMjA2NDgwNiwibG5nIjotNjAuMjUyMzgwNDk5OTk5OTl9LCJOYW5haW1vIjp7ImxhdCI6NDkuMTY1ODgzNiwibG5nIjotMTIzLjk0MDA2NDd9LCJMYW5nbGV5Ijp7ImxhdCI6NDkuMTA0MTc3OSwibG5nIjotMTIyLjY2MDM1MTl9LCJQaWN0b3UiOnsibGF0Ijo0NS42NzYxMjgyLCJsbmciOi02Mi43MDg4NDQ5OTk5OTk5OX0sIk5pYWdhcmEgRmFsbHMiOnsibGF0Ijo0My4wODk1NTc3LCJsbmciOi03OS4wODQ5NDM2fSwiTGVkdWMiOnsibGF0Ijo1My4yNjQ3NTY2LCJsbmciOi0xMTMuNTUyNTIxNn0sIlBvcnRlcnMgTGFrZSI6eyJsYXQiOjQ0LjczNzQzNywibG5nIjotNjMuMzExMDM5OX0sIk9rb3Rva3MiOnsibGF0Ijo1MC43MjU1MTYzLCJsbmciOi0xMTMuOTc0OTEyN30sIkxvbmRvbiI6eyJsYXQiOjQyLjk4NDkyMzMsImxuZyI6LTgxLjI0NTI3Njh9LCJQb3dlbGwgUml2ZXIiOnsibGF0Ijo0OS44MzUyMzUyLCJsbmciOi0xMjQuNTI0NzA2Mn0sIk9yYW5nZXZpbGxlIjp7ImxhdCI6NDMuOTE5OTc4OCwibG5nIjotODAuMDk0MzExM30sIkxvd2VyIFNhY2t2aWxsZSI6eyJsYXQiOjQ0Ljc3NjM3NjcsImxuZyI6LTYzLjY3NzU1NDR9LCJQcmluY2UgUnVwZXJ0Ijp7ImxhdCI6NTQuMzE1MDM2NywibG5nIjotMTMwLjMyMDgxODd9LCJPcm9tb2N0byI6eyJsYXQiOjQ1Ljg0ODY2NDYsImxuZyI6LTY2LjQ4MTI4Nn0sIk1hcGxlIFJpZGdlIjp7ImxhdCI6NDkuMjE5MzIyNiwibG5nIjotMTIyLjU5ODM5OH0sIlF1ZXNuZWwiOnsibGF0Ijo1Mi45ODE3MzcyLCJsbmciOi0xMjIuNDk0OTA1OH0sIlBhcmtzdmlsbGUiOnsibGF0Ijo0OS4zMTkzMzc1LCJsbmciOi0xMjQuMzEzNjQxMn0sIk1pbHRvbiI6eyJsYXQiOjQzLjUxODI5OTEsImxuZyI6LTc5Ljg3NzQwNDJ9LCJTYWludCBKb2huIjp7ImxhdCI6NDUuMjczMzE1MywibG5nIjotNjYuMDYzMzA4MX0sIlBlbnRpY3RvbiI6eyJsYXQiOjQ5LjQ5OTEzODEsImxuZyI6LTExOS41OTM3MDc3fSwiTWlyYW1pY2hpIjp7ImxhdCI6NDcuMDI5NTcwOSwibG5nIjotNjUuNTA1OTA2MDk5OTk5OTl9LCJTaGVldCBIYXJib3VyIjp7ImxhdCI6NDQuOTE3Njk2LCJsbmciOi02Mi41MjgxNzU3fSwiUGV0ZXJib3JvdWdoIjp7ImxhdCI6NDQuMzA0NzA2MSwibG5nIjotNzguMzE5OTYwNn0sIk1vbmN0b24iOnsibGF0Ijo0Ni4wODc4MTY1LCJsbmciOi02NC43NzgyMzEzfSwiU2hlbGJ1cm5lIjp7ImxhdCI6NDQuMDc5MTE5MDAwMDAwMDEsImxuZyI6LTgwLjIwMTE3Mjh9LCJQbGFjZW50aWEiOnsibGF0Ijo0Ny4yNDIxNDcsImxuZyI6LTUzLjk2MzMwNzh9LCJNb3VudCBQZWFybCI6eyJsYXQiOjQ3LjUyNDIxNTAwMDAwMDAxLCJsbmciOi01Mi44MDY1ODd9LCJTbWl0aGVycyI6eyJsYXQiOjU0Ljc4MjM1NSwibG5nIjotMTI3LjE2ODU1NDF9LCJSZWQgRGVlciI6eyJsYXQiOjUyLjI2OTAzMjgsImxuZyI6LTExMy44MTE0OTU1fSwiTmV3IFdlc3RtaW5zdGVyIjp7ImxhdCI6NDkuMjA1NzE3OSwibG5nIjotMTIyLjkxMDk1Nn0sIlN0LiBQZXRlcnMiOnsibGF0Ijo0NS42NTYwMzQwMDAwMDAwMSwibG5nIjotNjAuODc1MDY5OTk5OTk5OTl9LCJSZWdpbmEiOnsibGF0Ijo1MC40NDUyMTEyLCJsbmciOi0xMDQuNjE4ODk0NH0sIk5vcnRoIERlbHRhIjp7ImxhdCI6NDkuMTcxNjM0LCJsbmciOi0xMjIuOTEwOTgxfSwiU3VtbWVyc2lkZSI6eyJsYXQiOjQ2LjM5MzM3NzY5OTk5OTk5LCJsbmciOi02My43OTAyMzMwOTk5OTk5OX0sIlNlbGtpcmsiOnsibGF0Ijo1MC4xNTQxNzU1OTk5OTk5OSwibG5nIjotOTYuODkzMDE3N30sIk5vcnRoIFZhbmNvdXZlciI6eyJsYXQiOjQ5LjMxOTk4MTYsImxuZyI6LTEyMy4wNzI0MTM5fSwiU3Vzc2V4Ijp7ImxhdCI6NDUuNzIzNjE5MTk5OTk5OTksImxuZyI6LTY1LjUxMDg3NjF9LCJTaGVkaWFjIjp7ImxhdCI6NDYuMjIwMTk3MjAwMDAwMDEsImxuZyI6LTY0LjUzNDY4NjZ9LCJPYWt2aWxsZSI6eyJsYXQiOjQzLjQ2NzUxNywibG5nIjotNzkuNjg3NjY1OX0sIlN5ZG5leSI6eyJsYXQiOjQ2LjEzNjc4OTksImxuZyI6LTYwLjE5NDIyMzk5OTk5OTk5fSwiU2ltY29lIjp7ImxhdCI6NDIuODM3MjYzMiwibG5nIjotODAuMzA0MDQyNH0sIk9ybGVhbnMiOnsibGF0Ijo0NS40NTU4MDE5LCJsbmciOi03NS41MDQ3MzMzfSwiVGVycmFjZSI6eyJsYXQiOjU0LjUxODE5MjUsImxuZyI6LTEyOC42MDMxNTR9LCJTcHJpbmdkYWxlIjp7ImxhdCI6NDkuNDk3NDMyNCwibG5nIjotNTYuMDczMTUwMjk5OTk5OTl9LCJPc2hhd2EiOnsibGF0Ijo0My44OTcwOTI5LCJsbmciOi03OC44NjU3OTExOTk5OTk5OX0sIlRob21wc29uIjp7ImxhdCI6NTUuNzQ1MTAwMywibG5nIjotOTcuODUwOTIzMn0sIlN0ZWluYmFjaCI6eyJsYXQiOjQ5LjUzMDMwOTcsImxuZyI6LTk2LjY5MTIwNTA5OTk5OTk5fSwiUGFyYWRpc2UiOnsibGF0Ijo0Ny41Mjc0NjAzLCJsbmciOi01Mi44NzMxMzZ9LCJUaHVuZGVyIEJheSI6eyJsYXQiOjQ4LjM4MDg5NTEsImxuZyI6LTg5LjI0NzY4MjN9LCJTdHJhdGZvcmQiOnsibGF0Ijo0My4zNzAwMDA3LCJsbmciOi04MC45ODIyMjg2MDAwMDAwMX0sIlBhcmlzIjp7ImxhdCI6NDMuMTk0MDIwMywibG5nIjotODAuMzg0NDk5Nn0sIlRyYWlsIjp7ImxhdCI6NDkuMDk2NTY3NiwibG5nIjotMTE3LjcxMTczMDF9LCJQb3J0IENvcXVpdGxhbSI6eyJsYXQiOjQ5LjI2MjgzODIsImxuZyI6LTEyMi43ODEwNzA4fSwiVHJlcGFzc2V5Ijp7ImxhdCI6NDYuNzM1NzY3LCJsbmciOi01My4zNjAxOTgzOTk5OTk5OX0sIlN5ZG5leSBSaXZlciI6eyJsYXQiOjQ2LjEwNTQzNDUsImxuZyI6LTYwLjIyNjcyNTU5OTk5OTk5fSwiUG9ydCBNb29keSI6eyJsYXQiOjQ5LjI4NDkxMDcsImxuZyI6LTEyMi44Njc3NTYyfSwiVHJ1cm8iOnsibGF0Ijo0NS4zNjQ2MjIzOTk5OTk5OSwibG5nIjotNjMuMjc2NTA2MDk5OTk5OTl9LCJSaWNobW9uZCI6eyJsYXQiOjQ5LjE2NjU4OTgsImxuZyI6LTEyMy4xMzM1Njl9LCJXZXN0dmlsbGUiOnsibGF0Ijo0NS41NTY0NDQ5LCJsbmciOi02Mi43MTU0ODR9LCJUb3R0ZW5oYW0iOnsibGF0Ijo0NC4wMjI0ODQzLCJsbmciOi03OS44MDU1OTQ1OTk5OTk5OX0sIlJpdmVydmlldyI6eyJsYXQiOjQ2LjA2MTI1MzY5OTk5OTk5LCJsbmciOi02NC44MDUyMTgyOTk5OTk5OX0sIldpbGxpYW1zIExha2UiOnsibGF0Ijo1Mi4xNDE2NzM2LCJsbmciOi0xMjIuMTQxNjg4NX0sIlZlcm5vbiI6eyJsYXQiOjUwLjI2NzAxMzcsImxuZyI6LTExOS4yNzIwMTA3fSwiUm90aGVzYXkiOnsibGF0Ijo0NS4zODg4MjYxLCJsbmciOi02NS45OTQyOTczfSwiV2luZHNvciI6eyJsYXQiOjQyLjMxNDkzNjcsImxuZyI6LTgzLjAzNjM2MzI5OTk5OTk5fSwiVmljdG9yaWEiOnsibGF0Ijo0OC40Mjg0MjA3LCJsbmciOi0xMjMuMzY1NjQ0NH0sIldldGFza2l3aW4iOnsibGF0Ijo1Mi45Njg3OTY0LCJsbmciOi0xMTMuMzY1OTI4NH0sIlNhc2thdG9vbiI6eyJsYXQiOjUyLjE1NzkwMiwibG5nIjotMTA2LjY3MDE1Nzd9LCJZYXJtb3V0aCI6eyJsYXQiOjQzLjgzNzg1NjMsImxuZyI6LTY2LjExOTcyMDF9LCJTdC4gQ2F0aGVyaW5lcyI6eyJsYXQiOjQzLjE1OTM3NDUsImxuZyI6LTc5LjI0Njg2MjZ9LCJTdG9ueSBQbGFpbiI6eyJsYXQiOjUzLjUyOTE0MTksImxuZyI6LTExNC4wMDE4MTc4fSwiVGltYmVybGVhIjp7ImxhdCI6NDQuNjU5ODg1LCJsbmciOi02My43NDAzNDMyfSwiVmFuY291dmVyIjp7ImxhdCI6NDkuMjgyNzI5MSwibG5nIjotMTIzLjEyMDczNzV9LCJXYXRlcmxvbyI6eyJsYXQiOjQzLjQ2NDI1NzgsImxuZyI6LTgwLjUyMDQwOTZ9LCJXZXN0IFZhbmNvdXZlciI6eyJsYXQiOjQ5LjMyODYyNTEsImxuZyI6LTEyMy4xNjAxOTgxfSwiU3BydWNlIEdyb3ZlIjp7ImxhdCI6NTMuNTQxMjQxNCwibG5nIjotMTEzLjkxMDA3MzN9LCJVcHBlciBUYW50YWxsb24iOnsibGF0Ijo0NC42ODc5MDE2LCJsbmciOi02My44Nzc1NDM2fSwiV2hpdGJ5Ijp7ImxhdCI6NDMuODk3NTQ0NiwibG5nIjotNzguOTQyOTMyOTAwMDAwMDJ9fQ=="
var defaultColors = "eyJBbnRpZ29uaXNoIjoicHVycGxlIiwiQWJib3RzZm9yZCI6Im9yYW5nZSIsIkFjdG9uIjoieWVsbG93IiwiQXVyb3JhIjoiZ3JlZW4iLCJCYXJyaW5ndG9uIFBhc3NhZ2UiOiJwdXJwbGUiLCJBbGRlcmdyb3ZlIjoib3JhbmdlIiwiQWlyZHJpZSI6InllbGxvdyIsIkJyYW1wdG9uIjoiZ3JlZW4iLCJCcmlkZ2V3YXRlciI6InB1cnBsZSIsIkFtaGVyc3QiOiJvcmFuZ2UiLCJBamF4IjoieWVsbG93IiwiQ2FsZ2FyeSI6ImdyZWVuIiwiQnJvb2tzIjoicHVycGxlIiwiQmF0aHVyc3QiOiJvcmFuZ2UiLCJBbmNhc3RlciI6InllbGxvdyIsIkVkbW9udG9uIjoiZ3JlZW4iLCJDYW1wYmVsbCBSaXZlciI6InB1cnBsZSIsIkJheSBSb2JlcnRzIjoib3JhbmdlIiwiQmFycmllIjoieWVsbG93IiwiRW50ZXIgQ2l0eSI6ImdyZWVuIiwiQ2FzdGxlZ2FyIjoicHVycGxlIiwiQnJhbmRvbiI6Im9yYW5nZSIsIkJlYXVtb250IjoieWVsbG93IiwiRXRvYmljb2tlIjoiZ3JlZW4iLCJDcmFuYnJvb2siOiJwdXJwbGUiLCJDYW1yb3NlIjoib3JhbmdlIiwiQmVkZm9yZCI6InllbGxvdyIsIk1hcmtoYW0iOiJncmVlbiIsIkRhd3NvbiBDcmVlayI6InB1cnBsZSIsIkNhbm1vcmUiOiJvcmFuZ2UiLCJCcmFkZm9yZCI6InllbGxvdyIsIk1pc3Npc3NhdWdhIjoiZ3JlZW4iLCJEaWdieSI6InB1cnBsZSIsIkNhcmFxdWV0Ijoib3JhbmdlIiwiQnJhbnRmb3JkIjoieWVsbG93IiwiUHJpbmNlIEFsYmVydCI6ImdyZWVuIiwiRm9ydCBGcmFuY2VzIjoicHVycGxlIiwiQ2hhcmxvdHRldG93biI6Im9yYW5nZSIsIkJ1cmxpbmd0b24iOiJ5ZWxsb3ciLCJSaWNobW9uZCBIaWxsIjoiZ3JlZW4iLCJGb3J0IE1jTXVycmF5IjoicHVycGxlIiwiQ2hpbGxpd2FjayI6Im9yYW5nZSIsIkJ1cm5hYnkiOiJ5ZWxsb3ciLCJTY2FyYm9yb3VnaCI6ImdyZWVuIiwiRm9ydCBTdC4gSm9obiI6InB1cnBsZSIsIkNsYXJrZSdzIEJlYWNoIjoib3JhbmdlIiwiQ2FtYnJpZGdlIjoieWVsbG93IiwiU2hlcndvb2QgUGFyayI6ImdyZWVuIiwiR2xhY2UgQmF5IjoicHVycGxlIiwiQ29ybmVyIEJyb29rIjoib3JhbmdlIiwiQ2hlc3Rlcm1lcmUiOiJ5ZWxsb3ciLCJTdC4gQWxiZXJ0IjoiZ3JlZW4iLCJHcmFuZCBCYW5rIjoicHVycGxlIiwiQ29ybndhbGwiOiJvcmFuZ2UiLCJDb2NocmFuZSI6InllbGxvdyIsIlN0LiBKb2huJ3MiOiJ5ZWxsb3ciLCJHcmFuZGUgUHJhaXJpZSI6InB1cnBsZSIsIkNvdXJ0ZW5heSI6Im9yYW5nZSIsIkNvbmNlcHRpb24gQmF5IFNvdXRoIjoieWVsbG93IiwiU3VycmV5IjoieWVsbG93IiwiS2VudHZpbGxlIjoicHVycGxlIiwiRHVuY2FuIjoib3JhbmdlIiwiQ29xdWl0bGFtIjoieWVsbG93IiwiVGhvcm5oaWxsIjoiZ3JlZW4iLCJLaW5nc3RvbiI6InllbGxvdyIsIkVhc3QgU3QuIFBhdWwiOiJvcmFuZ2UiLCJEYXJ0bW91dGgiOiJ5ZWxsb3ciLCJUb3JvbnRvIjoiZ3JlZW4iLCJMZXRoYnJpZGdlIjoib3JhbmdlIiwiRXN0ZXZhbiI6Im9yYW5nZSIsIkRlZXIgTGFrZSI6InllbGxvdyIsIlZhdWdoYW4iOiJncmVlbiIsIkxld2lzcG9ydGUiOiJwdXJwbGUiLCJHYW5kZXIiOiJvcmFuZ2UiLCJEaWVwcGUiOiJ5ZWxsb3ciLCJXaW5uaXBlZyI6ImdyZWVuIiwiTGxveWRtaW5zdGVyIjoicHVycGxlIiwiR3JhbmQgRmFsbHMiOiJvcmFuZ2UiLCJGYWxsIFJpdmVyIjoieWVsbG93IiwiTWFyeXN0b3duIjoicHVycGxlIiwiSW5uaXNmaWwiOiJvcmFuZ2UiLCJGb3J0IFNhc2thdGNoZXdhbiI6InllbGxvdyIsIk1lZGljaW5lIEhhdCI6InB1cnBsZSIsIkthbWxvb3BzIjoib3JhbmdlIiwiRnJlZGVyaWN0b24iOiJ5ZWxsb3ciLCJNb250YWd1ZSI6InB1cnBsZSIsIktlbG93bmEiOiJvcmFuZ2UiLCJHZW9yZ2V0b3duIjoieWVsbG93IiwiTXVzcXVvZG9ib2l0IEhhcmJvdXIiOiJwdXJwbGUiLCJMYWtlc2hvcmUiOiJvcmFuZ2UiLCJIYWxpZmF4IjoieWVsbG93IiwiTmVsc29uIjoicHVycGxlIiwiTGFuZ2ZvcmQiOiJvcmFuZ2UiLCJIYW1tb25kcyBQbGFpbnMiOiJ5ZWxsb3ciLCJOZXcgR2xhc2dvdyI6InB1cnBsZSIsIkthbmF0YSI6InllbGxvdyIsIk5ldyBNaW5hcyI6InB1cnBsZSIsIk1pc3Npb24iOiJvcmFuZ2UiLCJOZXcgV2F0ZXJmb3JkIjoicHVycGxlIiwiTW9vc2UgSmF3Ijoib3JhbmdlIiwiS2l0Y2hlbmVyIjoieWVsbG93IiwiTm9ydGggU3lkbmV5IjoicHVycGxlIiwiTmFuYWltbyI6Im9yYW5nZSIsIkxhbmdsZXkiOiJ5ZWxsb3ciLCJQaWN0b3UiOiJwdXJwbGUiLCJOaWFnYXJhIEZhbGxzIjoib3JhbmdlIiwiTGVkdWMiOiJ5ZWxsb3ciLCJQb3J0ZXJzIExha2UiOiJwdXJwbGUiLCJPa290b2tzIjoib3JhbmdlIiwiTG9uZG9uIjoieWVsbG93IiwiUG93ZWxsIFJpdmVyIjoicHVycGxlIiwiT3JhbmdldmlsbGUiOiJvcmFuZ2UiLCJMb3dlciBTYWNrdmlsbGUiOiJ5ZWxsb3ciLCJQcmluY2UgUnVwZXJ0IjoicHVycGxlIiwiT3JvbW9jdG8iOiJvcmFuZ2UiLCJNYXBsZSBSaWRnZSI6InllbGxvdyIsIlF1ZXNuZWwiOiJwdXJwbGUiLCJQYXJrc3ZpbGxlIjoib3JhbmdlIiwiTWlsdG9uIjoieWVsbG93IiwiU2FpbnQgSm9obiI6InllbGxvdyIsIlBlbnRpY3RvbiI6Im9yYW5nZSIsIk1pcmFtaWNoaSI6InllbGxvdyIsIlNoZWV0IEhhcmJvdXIiOiJwdXJwbGUiLCJQZXRlcmJvcm91Z2giOiJvcmFuZ2UiLCJNb25jdG9uIjoieWVsbG93IiwiU2hlbGJ1cm5lIjoieWVsbG93IiwiUGxhY2VudGlhIjoib3JhbmdlIiwiTW91bnQgUGVhcmwiOiJ5ZWxsb3ciLCJTbWl0aGVycyI6InB1cnBsZSIsIlJlZCBEZWVyIjoib3JhbmdlIiwiTmV3IFdlc3RtaW5zdGVyIjoieWVsbG93IiwiU3QuIFBldGVycyI6InB1cnBsZSIsIlJlZ2luYSI6Im9yYW5nZSIsIk5vcnRoIERlbHRhIjoieWVsbG93IiwiU3VtbWVyc2lkZSI6InB1cnBsZSIsIlNlbGtpcmsiOiJvcmFuZ2UiLCJOb3J0aCBWYW5jb3V2ZXIiOiJ5ZWxsb3ciLCJTdXNzZXgiOiJwdXJwbGUiLCJTaGVkaWFjIjoib3JhbmdlIiwiT2FrdmlsbGUiOiJ5ZWxsb3ciLCJTeWRuZXkiOiJvcmFuZ2UiLCJTaW1jb2UiOiJvcmFuZ2UiLCJPcmxlYW5zIjoieWVsbG93IiwiVGVycmFjZSI6InB1cnBsZSIsIlNwcmluZ2RhbGUiOiJvcmFuZ2UiLCJPc2hhd2EiOiJ5ZWxsb3ciLCJUaG9tcHNvbiI6InB1cnBsZSIsIlN0ZWluYmFjaCI6Im9yYW5nZSIsIlBhcmFkaXNlIjoieWVsbG93IiwiVGh1bmRlciBCYXkiOiJvcmFuZ2UiLCJTdHJhdGZvcmQiOiJvcmFuZ2UiLCJQYXJpcyI6InllbGxvdyIsIlRyYWlsIjoicHVycGxlIiwiUG9ydCBDb3F1aXRsYW0iOiJ5ZWxsb3ciLCJUcmVwYXNzZXkiOiJwdXJwbGUiLCJTeWRuZXkgUml2ZXIiOiJvcmFuZ2UiLCJQb3J0IE1vb2R5IjoieWVsbG93IiwiVHJ1cm8iOiJwdXJwbGUiLCJSaWNobW9uZCI6InllbGxvdyIsIldlc3R2aWxsZSI6InB1cnBsZSIsIlRvdHRlbmhhbSI6Im9yYW5nZSIsIlJpdmVydmlldyI6InllbGxvdyIsIldpbGxpYW1zIExha2UiOiJwdXJwbGUiLCJWZXJub24iOiJvcmFuZ2UiLCJSb3RoZXNheSI6InllbGxvdyIsIldpbmRzb3IiOiJwdXJwbGUiLCJWaWN0b3JpYSI6Im9yYW5nZSIsIldldGFza2l3aW4iOiJvcmFuZ2UiLCJTYXNrYXRvb24iOiJ5ZWxsb3ciLCJZYXJtb3V0aCI6Im9yYW5nZSIsIlNwcnVjZSBHcm92ZSI6InllbGxvdyIsIlN0LiBDYXRoZXJpbmVzIjoieWVsbG93IiwiU3RvbnkgUGxhaW4iOiJ5ZWxsb3ciLCJUaW1iZXJsZWEiOiJ5ZWxsb3ciLCJVcHBlciBUYW50YWxsb24iOiJ5ZWxsb3ciLCJWYW5jb3V2ZXIiOiJ5ZWxsb3ciLCJXYXRlcmxvbyI6InllbGxvdyIsIldlc3QgVmFuY291dmVyIjoieWVsbG93IiwiV2hpdGJ5IjoieWVsbG93In0="
var abMap = "eyJUMUggNlQzIjp7ImxhdCI6NDkuNzI4MTI0NCwibG5nIjotMTEyLjgxMDAzOTl9LCJUNFIgMksxIjp7ImxhdCI6NTIuMjM3NTcxMiwibG5nIjotMTEzLjgxNzUzMzN9LCJUNFggMVQ4Ijp7ImxhdCI6NTMuMzYxNDksImxuZyI6LTExMy40MTYwNzQ2fSwiVDNMIDJWNyI6eyJsYXQiOjUxLjEyNDQ2NiwibG5nIjotMTE0LjI0ODQ5ODZ9LCJUOUggMko4Ijp7ImxhdCI6NTYuNzIzMzYzNSwibG5nIjotMTExLjM3MzI1MjN9LCJUNE4gM1o2Ijp7ImxhdCI6NTIuMjYzNDAxNSwibG5nIjotMTEzLjgxNDQ1Mzh9LCJUNEIgMFY3Ijp7ImxhdCI6NTEuMjkwNzMzMiwibG5nIjotMTE0LjAyMzE0NzJ9LCJUMlkgNFM2Ijp7ImxhdCI6NTAuOTA2MTQ4MywibG5nIjotMTE0LjExMTg3MTd9LCJUMUIgNEs0Ijp7ImxhdCI6NDkuOTk4NzE2MywibG5nIjotMTEwLjY0NTA2NH0sIlQ0ViA0VDEiOnsibGF0Ijo1My4wMTg4OTE1LCJsbmciOi0xMTIuODYzMzY5MX0sIlQ0QiAxRTEiOnsibGF0Ijo1MS4yOTU1ODQsImxuZyI6LTExNC4wMTQ0MTYzfSwiVDNHIDVUNCI6eyJsYXQiOjUxLjE1MzAxMjUsImxuZyI6LTExNC4yMTQ4OTk5fSwiVDFCIDJSNCI6eyJsYXQiOjUwLjAwNDMyNDUsImxuZyI6LTExMC42NDczMTU5fSwiVDlBIDJCMSI6eyJsYXQiOjUyLjk1ODU5MTAwMDAwMDAxLCJsbmciOi0xMTMuMzg4NTY1N30sIlQ5RSA2TjciOnsibGF0Ijo1My4yNzY1ODgxLCJsbmciOi0xMTMuNTUwNTEzOH0sIlQzSyA1SDIiOnsibGF0Ijo1MS4xNTU0OTc3LCJsbmciOi0xMTQuMDU3MDAzMn0sIlQxSyA2WjMiOnsibGF0Ijo0OS42Njc1MzgzLCJsbmciOi0xMTIuNzk2MDkzNX0sIlQxVyAxUDQiOnsibGF0Ijo1MS4wOTIxMDgxLCJsbmciOi0xMTUuMzU1NzA3NH0sIlQ3WiAxTDEiOnsibGF0Ijo1My41NDAyNzkxLCJsbmciOi0xMTMuOTc1OTI5Nn0sIlQyWSA1RzciOnsibGF0Ijo1MC45MTQzNzA2LCJsbmciOi0xMTQuMDcxOTMxM30sIlQ4ViA0QTkiOnsibGF0Ijo1NS4xODM4NDIsImxuZyI6LTExOC43OTMzMDA4fSwiVDFTIDJFMSI6eyJsYXQiOjUwLjcwMzA3MTUsImxuZyI6LTExMy45NzMzNDMyfSwiVDhMIDRQNCI6eyJsYXQiOjUzLjY5NTY2NzY5OTk5OTk5LCJsbmciOi0xMTMuMjEwMjgyNH0sIlQyQSAwVjciOnsibGF0Ijo1MS4wMzYyNjM1LCJsbmciOi0xMTMuOTYwNTg4OH0sIlQ4ViA2SDciOnsibGF0Ijo1NS4xNTU0MDIyLCJsbmciOi0xMTguNzk2MTY4fSwiVDFTIDFCMyI6eyJsYXQiOjUwLjcyNTEyNDYsImxuZyI6LTExMy45NzIwMDI4fSwiVDdYIDFSMiI6eyJsYXQiOjUzLjU0MjA3NzQsImxuZyI6LTExMy45MTMzNjA4fSwiVDVaIDNMMSI6eyJsYXQiOjUzLjYyODAwNDMsImxuZyI6LTExMy40ODkwOTgyfSwiVDFSIDBXMyI6eyJsYXQiOjUwLjU3MjkzOTcsImxuZyI6LTExMS45MDAxMjE4fSwiVDROIDRDNiI6eyJsYXQiOjUyLjI4NTI1NjM5OTk5OTk5LCJsbmciOi0xMTMuODE1MTg2fSwiVDRDIDJBNSI6eyJsYXQiOjUxLjE4NTEyOTYsImxuZyI6LTExNC40NzY0OTI0fSwiVDhOIDVKOSI6eyJsYXQiOjUzLjY0NDUwNTksImxuZyI6LTExMy42Mjc3MDA5fSwiVDFBIDJKOSI6eyJsYXQiOjUwLjAzMjY4NjIwMDAwMDAxLCJsbmciOi0xMTAuNjg2NjUyfSwiVDFYIDFWMiI6eyJsYXQiOjUxLjA1MDI3ODcsImxuZyI6LTExMy44MjU2NDM3fSwiVDVYIDZDMyI6eyJsYXQiOjUzLjYxNTQ2MjgsImxuZyI6LTExMy41MTU4NDA2fSwiVDFKIDRUMyI6eyJsYXQiOjQ5LjY5MzIxMjQsImxuZyI6LTExMi44OTM0MTgyfSwiVDZMIDdHNSI6eyJsYXQiOjUzLjQ1MzkyMSwibG5nIjotMTEzLjQyMjQ4OTR9LCJUOVYgMEE3Ijp7ImxhdCI6NTMuMjc3MDM4MywibG5nIjotMTEwLjAxMjAwNDN9LCJUOEEgNkczIjp7ImxhdCI6NTMuNTEyNjA1NiwibG5nIjotMTEzLjI3NTAwMTh9LCJUNksgM0w2Ijp7ImxhdCI6NTMuNDcxNjI5MywibG5nIjotMTEzLjQ1MDAxMX0sIlQzSiAwSDUiOnsibGF0Ijo1MS4xMjM1NDQyLCJsbmciOi0xMTMuOTQ1MDg3OH0sIlQ2VCAwWTIiOnsibGF0Ijo1My40NjYwNTMsImxuZyI6LTExMy4zODIwMTV9LCJUNUwgNFk4Ijp7ImxhdCI6NTMuNTk5OTg5NSwibG5nIjotMTEzLjU0Mjg1ODJ9LCJUNUIgMFMxIjp7ImxhdCI6NTMuNTcxMTE0NCwibG5nIjotMTEzLjQ2NjMyNjh9LCJUOE4gNVQ4Ijp7ImxhdCI6NTMuNjIyMjI2Mjk5OTk5OTksImxuZyI6LTExMy42MDcyOTc3fSwiVDVQIDRXMSI6eyJsYXQiOjUzLjUzOTg5OCwibG5nIjotMTEzLjU3OTM4NjJ9LCJUNVQgNEs1Ijp7ImxhdCI6NTMuNTI0NjQ4NCwibG5nIjotMTEzLjY2Nzc0Nzd9LCJUM1AgME05Ijp7ImxhdCI6NTEuMTc0NTMyNSwibG5nIjotMTE0LjEwODc4MjF9LCJUMkMgMk41Ijp7ImxhdCI6NTAuOTgzMzU3NywibG5nIjotMTE0LjAxNDY1NzJ9LCJUMVkgNkoyIjp7ImxhdCI6NTEuMDgyNjM5OSwibG5nIjotMTEzLjk4MzU4Njh9LCJUM0ogMFM5Ijp7ImxhdCI6NTEuMTQzODIxOSwibG5nIjotMTE0LjAyNzA4N30sIlQzTSAwUzkiOnsibGF0Ijo1MC44Nzk4OTA4LCJsbmciOi0xMTMuOTc3NjMyOX0sIlQyWCAwVDkiOnsibGF0Ijo1MC44NzgxODczLCJsbmciOi0xMTQuMDcxNjI3NH0sIlQ2VyAxUzQiOnsibGF0Ijo1My40MjM2MjA3LCJsbmciOi0xMTMuNTE1MDEyOX0sIlQ1WSAwTDIiOnsibGF0Ijo1My42MjgwMjg4LCJsbmciOi0xMTMuNDEzNzMzNH0sIlQ2WCAxWDIiOnsibGF0Ijo1My40MTU4ODg0LCJsbmciOi0xMTMuNDQ0NzcwOH0sIlQzUiAwSjMiOnsibGF0Ijo1MS4xNzczOTAyLCJsbmciOi0xMTQuMTUyNzk1M30sIlQzTSAyUDgiOnsibGF0Ijo1MC44OTg1ODc3OTk5OTk5OSwibG5nIjotMTEzLjk0MjQwMjR9LCJUMkEgN1I0Ijp7ImxhdCI6NTEuMDUyNzQ4NywibG5nIjotMTEzLjk4NDE5NzJ9LCJUM0MgMVMyIjp7ImxhdCI6NTEuMDQyMzcyNSwibG5nIjotMTE0LjEzOTUyMDd9LCJUMlIgMEU2Ijp7ImxhdCI6NTEuMDQyNjY0MiwibG5nIjotMTE0LjA4MDQ1MX0sIlQzQSAwRTIiOnsibGF0Ijo1MS4wODU2NzYxLCJsbmciOi0xMTQuMTU1MjQ3Mn0sIlQyUyAySDYiOnsibGF0Ijo1MS4wMzAyMzAxLCJsbmciOi0xMTQuMDcyNDI4M30sIlQyRSAyUzYiOnsibGF0Ijo1MS4wNjgxNTgzOTk5OTk5OSwibG5nIjotMTE0LjA2MTk3NDV9LCJUMk4gMVY5Ijp7ImxhdCI6NTEuMDU2MDk4OCwibG5nIjotMTE0LjA4NTQ5MjZ9LCJUMlcgNE43Ijp7ImxhdCI6NTAuOTQwODEwMSwibG5nIjotMTE0LjEyMDgwNzd9LCJUM0ogM0o4Ijp7ImxhdCI6NTEuMTAzNzE0LCJsbmciOi0xMTMuOTcxMDM3NX0sIlQzRyAyTDUiOnsibGF0Ijo1MS4xMjc0OTYzLCJsbmciOi0xMTQuMjAzMTY5M30sIlQySiA2UzEiOnsibGF0Ijo1MC45NTI0MTIzLCJsbmciOi0xMTQuMDYyMjQ2MX0sIlQyViA1QTgiOnsibGF0Ijo1MC45NzQ5Mjg1LCJsbmciOi0xMTQuMDk4Mzc0OH0sIlQzQSA1UjgiOnsibGF0Ijo1MS4xMDU0MjA2LCJsbmciOi0xMTQuMTYwODAzOX0sIlQyWSAyWjMiOnsibGF0Ijo1MC45MDUxNDMzLCJsbmciOi0xMTQuMDY1MTc0fSwiVDNLIDJBOCI6eyJsYXQiOjUxLjEyNTcwOTgsImxuZyI6LTExNC4wNzM4MDA1fSwiVDNIIDNDOCI6eyJsYXQiOjUxLjAxMzM2NDgsImxuZyI6LTExNC4xNjkyMTAzfSwiVDVSIDVXOSI6eyJsYXQiOjUzLjUxOTg2OCwibG5nIjotMTEzLjU5MzAwNTF9LCJUNlIgMkUzIjp7ImxhdCI6NTMuNDY4NzMyODAwMDAwMDEsImxuZyI6LTExMy41ODc2MzkyfSwiVDhOIDVaOSI6eyJsYXQiOjUzLjY0NDMxOTcsImxuZyI6LTExMy42MjUxNTcxfSwiVDVLIDJTNSI6eyJsYXQiOjUzLjU0Njk2Mzg5OTk5OTk5LCJsbmciOi0xMTMuNTIwNTM5Nn0sIlQ4QSA0TjUiOnsibGF0Ijo1My41MTMzNzk5LCJsbmciOi0xMTMuMzI0MTk3MX0sIlQ1QSA1QTEiOnsibGF0Ijo1My42MDA1NTE2LCJsbmciOi0xMTMuNDIxODkzN30sIlQ1VCA1TDUiOnsibGF0Ijo1My41MzY0MzYzLCJsbmciOi0xMTMuNjE5OTc2NX0sIlQ1VCA0SjUiOnsibGF0Ijo1My41MDE3MjU4LCJsbmciOi0xMTMuNjI4NDIwNX0sIlQ1TSAzTDciOnsibGF0Ijo1My41NjA0MjUsImxuZyI6LTExMy41NzMwNzQ5fSwiVDVFIDVSOCI6eyJsYXQiOjUzLjU5ODQzMzksImxuZyI6LTExMy40OTA4NzE4fSwiVDZBIDBBMSI6eyJsYXQiOjUzLjUzOTQ4OTksImxuZyI6LTExMy40MjE2NDM0fSwiVDZHIDBTOCI6eyJsYXQiOjUzLjUxODYyOTgsImxuZyI6LTExMy41MTM0ODc2fSwiVDZDIDBZNiI6eyJsYXQiOjUzLjUxODczODQsImxuZyI6LTExMy40NTc0MDcyfSwiVDVUIDFLOCI6eyJsYXQiOjUzLjUxMDQ5Mjc5OTk5OTk5LCJsbmciOi0xMTMuNjc1NDc1M30sIlQzSCAwTjYiOnsibGF0Ijo1MS4wNDEwNjE4LCJsbmciOi0xMTQuMjA4NTk1OH0sIlQ2SCA0TTYiOnsibGF0Ijo1My40ODYwMzQ4LCJsbmciOi0xMTMuNTE0OTM5NX0sIlQ2VyAwTDkiOnsibGF0Ijo1My40MzYwMTYxLCJsbmciOi0xMTMuNjA1NTQyMX0sIlQyVCA2RTMiOnsibGF0Ijo1MS4wMjI3Mjc0OTk5OTk5OSwibG5nIjotMTE0LjExNjIzMTh9LCJUMk4gMU03Ijp7ImxhdCI6NTEuMDY0OTk0MTAwMDAwMDEsImxuZyI6LTExNC4wOTg2NDQzfSwiVDNCIDBOMyI6eyJsYXQiOjUxLjA3NDEyLCJsbmciOi0xMTQuMTY1Mjk1fSwiVDJLIDFCMyI6eyJsYXQiOjUxLjEwMTkzNDcsImxuZyI6LTExNC4wNzIyMTY3fSwiVDZKIDVFNSI6eyJsYXQiOjUzLjQ1NDYyMTEsImxuZyI6LTExMy41MTQ2NDg3fSwiVDhBIDNIOSI6eyJsYXQiOjUzLjUzMjQxNDEsImxuZyI6LTExMy4yOTI1Mzk2fSwiVDVXIDBaMyI6eyJsYXQiOjUzLjU2OTQ5MTc5OTk5OTk5LCJsbmciOi0xMTMuMzk0NjMyM30sIlQyWiAzVjgiOnsibGF0Ijo1MC45MzA3NDc1LCJsbmciOi0xMTMuOTcxNTA5Nn0sIlQzRSA2TDYiOnsibGF0Ijo1MS4wMjA5MTg0LCJsbmciOi0xMTQuMTQxODY5fSwiVDJYIDRTOSAoQUIpIjp7ImxhdCI6NTAuOTAwNzYzNSwibG5nIjotMTE0LjAzNjIyNzl9fQ=="
var abColors = "eyJUMUggNlQzIjoicHVycGxlIiwiVDRSIDJLMSI6Im9yYW5nZSIsIlQ0WCAxVDgiOiJ5ZWxsb3ciLCJUM0wgMlY3IjoiZ3JlZW4iLCJUOUggMko4IjoicHVycGxlIiwiVDROIDNaNiI6Im9yYW5nZSIsIlQ0QiAwVjciOiJ5ZWxsb3ciLCJUMlkgNFM2IjoiZ3JlZW4iLCJUMUIgNEs0IjoicHVycGxlIiwiVDRWIDRUMSI6Im9yYW5nZSIsIlQ0QiAxRTEiOiJ5ZWxsb3ciLCJUM0cgNVQ0IjoiZ3JlZW4iLCJUMUIgMlI0IjoicHVycGxlIiwiVDlBIDJCMSI6Im9yYW5nZSIsIlQ5RSA2TjciOiJ5ZWxsb3ciLCJUM0sgNUgyIjoiZ3JlZW4iLCJUMUsgNlozIjoicHVycGxlIiwiVDFXIDFQNCI6Im9yYW5nZSIsIlQ3WiAxTDEiOiJ5ZWxsb3ciLCJUMlkgNUc3IjoiZ3JlZW4iLCJUOFYgNEE5IjoicHVycGxlIiwiVDFTIDJFMSI6Im9yYW5nZSIsIlQ4TCA0UDQiOiJ5ZWxsb3ciLCJUMkEgMFY3IjoiZ3JlZW4iLCJUOFYgNkg3IjoicHVycGxlIiwiVDFTIDFCMyI6Im9yYW5nZSIsIlQ3WCAxUjIiOiJ5ZWxsb3ciLCJUNVogM0wxIjoiZ3JlZW4iLCJUMVIgMFczIjoicHVycGxlIiwiVDROIDRDNiI6Im9yYW5nZSIsIlQ0QyAyQTUiOiJ5ZWxsb3ciLCJUOE4gNUo5IjoiZ3JlZW4iLCJUMUEgMko5IjoicHVycGxlIiwiVDFYIDFWMiI6InllbGxvdyIsIlQ1WCA2QzMiOiJncmVlbiIsIlQxSiA0VDMiOiJwdXJwbGUiLCJUNkwgN0c1IjoiZ3JlZW4iLCJUOVYgMEE3IjoicHVycGxlIiwiVDhBIDZHMyI6ImdyZWVuIiwiVDZLIDNMNiI6ImdyZWVuIiwiVDNKIDBINSI6ImdyZWVuIiwiVDZUIDBZMiI6ImdyZWVuIiwiVDVMIDRZOCI6ImdyZWVuIiwiVDVCIDBTMSI6ImdyZWVuIiwiVDhOIDVUOCI6ImdyZWVuIiwiVDVQIDRXMSI6ImdyZWVuIiwiVDVUIDRLNSI6ImdyZWVuIiwiVDNQIDBNOSI6ImdyZWVuIiwiVDJDIDJONSI6ImdyZWVuIiwiVDFZIDZKMiI6ImdyZWVuIiwiVDJYIDRTOSAoQUIpIjoiZ3JlZW4iLCJUM0ogMFM5IjoiZ3JlZW4iLCJUM00gMFM5IjoiZ3JlZW4iLCJUMlggMFQ5IjoiZ3JlZW4iLCJUNlcgMVM0IjoiZ3JlZW4iLCJUNVkgMEwyIjoiZ3JlZW4iLCJUNlggMVgyIjoiZ3JlZW4iLCJUM1IgMEozIjoiZ3JlZW4iLCJUM00gMlA4IjoiZ3JlZW4iLCJUMkEgN1I0IjoiZ3JlZW4iLCJUM0MgMVMyIjoiZ3JlZW4iLCJUMlIgMEU2IjoiZ3JlZW4iLCJUM0EgMEUyIjoiZ3JlZW4iLCJUMlMgMkg2IjoiZ3JlZW4iLCJUMkUgMlM2IjoiZ3JlZW4iLCJUMk4gMVY5IjoiZ3JlZW4iLCJUMlcgNE43IjoiZ3JlZW4iLCJUM0ogM0o4IjoiZ3JlZW4iLCJUM0cgMkw1IjoiZ3JlZW4iLCJUMkogNlMxIjoiZ3JlZW4iLCJUMlYgNUE4IjoiZ3JlZW4iLCJUM0EgNVI4IjoiZ3JlZW4iLCJUMlkgMlozIjoiZ3JlZW4iLCJUM0sgMkE4IjoiZ3JlZW4iLCJUM0ggM0M4IjoiZ3JlZW4iLCJUNVIgNVc5IjoiZ3JlZW4iLCJUNlIgMkUzIjoiZ3JlZW4iLCJUOE4gNVo5IjoiZ3JlZW4iLCJUNUsgMlM1IjoiZ3JlZW4iLCJUOEEgNE41IjoiZ3JlZW4iLCJUNUEgNUExIjoiZ3JlZW4iLCJUNVQgNUw1IjoiZ3JlZW4iLCJUNVQgNEo1IjoiZ3JlZW4iLCJUNU0gM0w3IjoiZ3JlZW4iLCJUNUUgNVI4IjoiZ3JlZW4iLCJUNkEgMEExIjoiZ3JlZW4iLCJUNkcgMFM4IjoiZ3JlZW4iLCJUNkMgMFk2IjoiZ3JlZW4iLCJUNVQgMUs4IjoiZ3JlZW4iLCJUM0ggME42IjoiZ3JlZW4iLCJUNkggNE02IjoiZ3JlZW4iLCJUNlcgMEw5IjoiZ3JlZW4iLCJUMlQgNkUzIjoiZ3JlZW4iLCJUMk4gMU03IjoiZ3JlZW4iLCJUM0IgME4zIjoiZ3JlZW4iLCJUMksgMUIzIjoiZ3JlZW4iLCJUNkogNUU1IjoiZ3JlZW4iLCJUOEEgM0g5IjoiZ3JlZW4iLCJUNVcgMFozIjoiZ3JlZW4iLCJUMlogM1Y4IjoiZ3JlZW4iLCJUM0UgNkw2IjoiZ3JlZW4ifQ=="

var mapStyle = [
  {
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#f5f5f5"
      }
    ]
  },
  {
    "elementType": "labels.icon",
    "stylers": [
      {
        "visibility": "off"
      }
    ]
  },
  {
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#f5f5f5"
      }
    ]
  },
  {
    "featureType": "administrative.land_parcel",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#bdbdbd"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#eeeeee"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#e5e5e5"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#ffffff"
      }
    ]
  },
  {
    "featureType": "road.arterial",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#dadada"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "featureType": "road.local",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  },
  {
    "featureType": "transit.line",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#e5e5e5"
      }
    ]
  },
  {
    "featureType": "transit.station",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#eeeeee"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#c9c9c9"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  },
  {
    "featureType": "administrative.province",
    "elementType": "geometry.stroke",
    "stylers": [
      {
        "color": "#000000"
      },
      {
        "weight": 2
      }
    ]
  },
  {
    "featureType": "administrative.country",
    "elementType": "geometry.stroke",
    "stylers": [
      {
        "color": "#000000"
      },
      {
        "weight": 2
      }
    ]
  },
];

function mapInit() {
  // Initialize the map
  map = new google.maps.Map(document.getElementById('map'), {
    center: { lat: 60, lng: -96 }, // Canada as default center
    zoom: 4,
    styles: mapStyle
  });
  geocoder = new google.maps.Geocoder();
  fileInput = document.getElementById('csvFile');
  downloadBtn = document.getElementById('download-btn');
  shareButton = document.getElementById('share-btn');
  resetButton = document.getElementById('reset-map');
  fileLabel = document.getElementById('file-label');
  copyButton = document.getElementById('copy-btn');
  shareLink = document.getElementById("share-link")
  resetButton.disabled = true;
  resetButton.classList.add('btn-disable');
  resetButton.style.pointerEvents = 'none';
  copyButton.disabled = true;
  copyButton.classList.add('btn-disable');
  copyButton.style.pointerEvents = 'none';
  shareButton.disabled = true;
  shareButton.classList.add('btn-disable');
  shareButton.style.pointerEvents = 'none';
  shareLink.style.display = "none";
  var savedMapId = getUrlParameter('savedMap');
  var colorKeyId = getUrlParameter('colorKey');
  var savedMapData = null;
  if(savedMapId == "default"){
    savedMapId = defaultMap;
    colorKeyId = defaultColors;
    shareButton.style.display = 'none';
    shareLink.style.display = 'none';
    copyButton.style.display = 'none';
  }
  else if(savedMapId == "alberta"){
    savedMapId = abMap;
    colorKeyId = abColors;
    shareButton.style.display = 'none';
    shareLink.style.display = 'none';
    copyButton.style.display = 'none';
  }
  savedMapData = decodeData(savedMapId);
  savedColorKey = decodeData(colorKeyId);
  console.log(savedMapId);
  console.log(savedMapData);
  if(savedMapData != null){
    locationData = JSON.parse(JSON.stringify(savedMapData));;
    if(savedMapId != defaultMap) generateShareLink(savedMapId, colorKeyId);
    resetButton.style.display = "none";
    downloadBtn.style.display = "none";
    fileLabel.style.display = "none";
    shareButton.style.display = "none";
    var app = document.getElementById('app-title');
    app.style.display = 'block';
    app.style.justifyContent = 'normal';
    var appspan = document.getElementById('app-title-spanner');
    appspan.style.marginRight = 'auto';
    generateSavedMap();
  }
  else{
    const storedDictString = localStorage.getItem("postal_pinner_locations");
    locationData = JSON.parse(storedDictString);
    if (locationData == null){
      console.log("Local store not set!");
      locationData = {};
    }
    else{
      console.log("Local store:");
      console.log(locationData);
    }
  }
  // Add listeners for input elements
  downloadBtn.addEventListener('click', downloadCSV);
  shareButton.addEventListener('click', clickGenerateShareLink);
  copyButton.addEventListener('click', copyTextToClipboard);
  fileInput.addEventListener('change', (event) => {
    const selectedFile = event.target.files[0];
    console.log('Selected file:', selectedFile);
    // Run code using the selected file here
    loadCSV();
  });
}

function getUrlParameter(paramName) {
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);
  return urlParams.get(paramName);
}

async function delayedValueSplit(lines) {
  for (let i = 1; i < lines.length; i++)
  {
      const valuesArray = lines[i].split(',');
      // Trim whitespace from each item in the array
      const trimmedArray = valuesArray.map((value) => value.trim());
      console.log(trimmedArray); // Output: Array of trimmed values
      if (savedColorKey == null) savedColorKey = {};
      for (let i = 0; i < trimmedArray.length; i++) {
        if (trimmedArray[i] == "") continue;
        savedColorKey[trimmedArray[i]] = colors[i];
        if (trimmedArray[i] in locationData){
          console.log("Writing from saved location data");
          var marker = new google.maps.Marker({
            position: locationData[trimmedArray[i]],
            map: map,
            title: trimmedArray[i],
            icon: { url: `http://maps.google.com/mapfiles/ms/icons/${colors[i]}-dot.png` }
          });
        }
        else{
          await sleep(rateDelay);
          console.log("Fetching unknown location data from geocoder API");
          getLatLong(trimmedArray[i], colors[i]);
        }
      }
  }
}

function getLatLong(postalCode, color) {
  if (postalCode == "") return;
  geocoder.geocode({ 'address': postalCode + ', Canada' }, (results, status) => {
    if (status === 'OK') {
      const location = results[0].geometry.location;
      const latitude = location.lat();
      const longitude = location.lng();
      var longlat = { lat: latitude, lng: longitude };
      locationData[postalCode] = longlat;
      localStorage.setItem("postal_pinner_locations", JSON.stringify(locationData));
      console.log(`[${Date.now()}] '${postalCode}' - Latitude: ${latitude}, Longitude: ${longitude}`);

      var marker = new google.maps.Marker({
        position: longlat,
        map: map,
        title: postalCode,
        icon: { url: `http://maps.google.com/mapfiles/ms/icons/${color}-dot.png` }
      });

    } else {
      console.log(`Geocode was not successful for '${postalCode}' for the following reason: ${status}`);
    }
  });
}

function generateShareLink(linkid, colorid){
  // var shareLink = document.getElementById("share-link")
  var linkText = location.pathname + `?savedMap=${linkid}&colorKey=${colorid}`;
  shareLink.innerText = "Saved Map Link";
  shareLink.setAttribute("href", linkText);
  copyButton.disabled = false;
  copyButton.classList.remove('btn-disable');
  copyButton.style.pointerEvents = 'auto';
  shareLink.style.display = "inline-block";
}

function clickGenerateShareLink(){
  if(locationData != null){
    generateShareLink(encodeData(locationData), encodeData(savedColorKey));
  }
}

function copyTextToClipboard(){
  var textToCopy = document.getElementById("share-link").href;
  
  navigator.clipboard.writeText(textToCopy)
  .then(() => {
    console.log(`Link copied to clipboard: ${textToCopy}`);
    document.getElementById('copy-msg').innerText = 'Copied to Clipboard!'
  })
  .catch((error) => {
    console.error("Error copying text to clipboard:", error);
  });
}

function generateSavedMap(){
  for (var key in locationData) {
    if (key == "") continue;
    var color = null;
    if (savedColorKey != null && key in savedColorKey){
      color = savedColorKey[key];
    }
    else{
      color = 'red'; 
    }
      var marker = new google.maps.Marker({
        position: locationData[key],
        map: map,
        title: key,
        icon: { url: `http://maps.google.com/mapfiles/ms/icons/${color}-dot.png` }
      });
    }
}

// Function to encode a key-value pairs object into a base64 encoded string
function encodeData(data) {
  const json = JSON.stringify(data); // Convert the object to a JSON string
  const encoded = btoa(json); // Encode the JSON string in base64
  return encoded;
}

// Function to decode a base64 encoded string back into a key-value pairs object
function decodeData(encodedData) {
  try {
    const decoded = atob(encodedData); // Decode the base64 string
    const data = JSON.parse(decoded); // Parse the decoded JSON string into an object
    return data;
  } catch (error) {
    console.log("Unable to Decode saved map");
    return null
  }
}


function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}


function downloadCSV() {
  const url = './postal_code_template.csv'; 
  const filename = 'postalcode_pins_template.csv';
  fetch(url)
    .then(response => response.blob())
    .then(blob => {
      const url = window.URL.createObjectURL(new Blob([blob]));
      const link = document.createElement('a');
      link.href = url;
      link.setAttribute('download', filename);
      document.body.appendChild(link);
      link.click();
    });
}

function loadCSV() {
  //const input = document.getElementById("csvFile");
  const file = fileInput.files[0];
  const reader = new FileReader();
  reader.onload = function () {
    const contents = reader.result;
    const lines = contents.split("\n");
    // Process the CSV data here
    console.log(lines);
    delayedValueSplit(lines);
    shareButton.disabled = false;
    shareButton.classList.remove('btn-disable');
    shareButton.style.pointerEvents = 'auto';
  };
  reader.readAsText(file);
  resetButton.disabled = false;
  resetButton.classList.remove('btn-disable');
  resetButton.style.pointerEvents = 'auto';
  fileInput.disabled = true;
  fileLabel.classList.add('btn-disable');
  fileLabel.style.pointerEvents = 'none';
}

